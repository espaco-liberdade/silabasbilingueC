<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>S√≠laba C (Jogo) - Casa Bil√≠ngue Kids</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600&family=Poppins:wght@400;500;600;700&family=Inter:wght@400;600&display=swap" rel="stylesheet">
    <style>
        /* Configura√ß√µes Globais */
        body { font-family: 'Poppins', sans-serif; background-color: #f0f7ff; color: #333; scroll-behavior: smooth; -webkit-font-smoothing: antialiased; }
        .kids-font { font-family: 'Fredoka', sans-serif; }
        
        /* Cart√µes */
        .card-word { 
            background: white; 
            border-radius: 24px; 
            border: 3px solid #e0e7ff; 
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
            transition: all 0.3s ease; 
            height: 100%; 
            display: flex; 
            flex-direction: column; 
            overflow: hidden;
        }
        .card-word:hover { transform: translateY(-5px); box-shadow: 0 15px 30px rgba(0,0,0,0.1); border-color: #a78bfa; }
        
        /* Bot√µes de S√≠laba (Interativos para o Jogo) */
        .syllable-game-btn { 
            background: #f3f0ff; 
            border: 2px solid #ddd6fe; 
            color: #6d28d9; 
            padding: 8px 16px; 
            border-radius: 12px; 
            font-weight: 700; 
            font-size: 1.3rem; 
            cursor: pointer; 
            font-family: 'Fredoka', sans-serif;
            transition: all 0.2s;
            user-select: none;
            min-width: 50px;
            -webkit-tap-highlight-color: transparent;
        }
        .syllable-game-btn:hover { background: #e9d5ff; transform: scale(1.05); }
        .syllable-game-btn:active { transform: scale(0.95); }

        /* Estados do Jogo */
        .syllable-correct {
            background-color: #22c55e !important;
            border-color: #16a34a !important;
            color: white !important;
            transform: scale(1.1);
            box-shadow: 0 0 10px rgba(34, 197, 94, 0.5);
            pointer-events: none;
        }
        
        .syllable-wrong {
            animation: shake 0.4s cubic-bezier(.36,.07,.19,.97) both;
            background-color: #fee2e2 !important;
            border-color: #ef4444 !important;
            color: #b91c1c !important;
        }

        @keyframes shake {
            10%, 90% { transform: translate3d(-1px, 0, 0); }
            20%, 80% { transform: translate3d(2px, 0, 0); }
            30%, 50%, 70% { transform: translate3d(-4px, 0, 0); }
            40%, 60% { transform: translate3d(4px, 0, 0); }
        }

        /* Bot√£o Imagem */
        .emoji-container { position: relative; }
        .emoji-btn { cursor: pointer; transition: transform 0.2s; -webkit-tap-highlight-color: transparent; }
        .emoji-btn.completed { animation: pulse-green 1s infinite; }
        @keyframes pulse-green {
            0% { box-shadow: 0 0 0 0 rgba(34, 197, 94, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(34, 197, 94, 0); }
            100% { box-shadow: 0 0 0 0 rgba(34, 197, 94, 0); }
        }

        /* Bot√µes de √Åudio */
        .btn-audio { 
            background: #e0f2fe; color: #0284c7; width: 32px; height: 32px; border-radius: 50%; 
            display: inline-flex; align-items: center; justify-content: center; cursor: pointer; 
            border: 1px solid #bae6fd; transition: background 0.2s; flex-shrink: 0;
            -webkit-tap-highlight-color: transparent;
        }
        .btn-audio:hover { background: #0ea5e9; color: white; }
        
        /* Tipografia */
        .transcription { color: #ea580c; font-weight: 600; font-size: 0.9rem; }
        .translation-text { color: #64748b; font-size: 0.85rem; font-weight: 500; display: block; margin-top: 2px; }
        .simplified-pron { color: #7c3aed; font-size: 0.8rem; font-style: italic; opacity: 0.9; }

        /* Navega√ß√£o */
        .header-sticky { position: sticky; top: 0; z-index: 50; background: rgba(240, 247, 255, 0.95); backdrop-filter: blur(12px); padding: 10px 0; border-bottom: 1px solid #e0e7ff; }
        .nav-dot { width: 50px; height: 50px; display: flex; align-items: center; justify-content: center; border-radius: 50%; color: white; font-weight: bold; font-family: 'Fredoka', sans-serif; text-decoration: none; transition: transform 0.2s; }
        .nav-dot:hover { transform: scale(1.15); }

        /* Vocab Grid */
        .vocab-grid { display: grid; grid-template-columns: 1fr; gap: 12px; }
        @media (min-width: 768px) { .vocab-grid { grid-template-columns: repeat(2, 1fr); } }
        @media (min-width: 1024px) { .vocab-grid { grid-template-columns: repeat(3, 1fr); } }
        .vocab-item { background: white; border: 1px solid #e2e8f0; border-radius: 12px; padding: 12px 16px; display: flex; align-items: center; justify-content: space-between; }
        .vocab-content { flex: 1; display: flex; flex-direction: column; }
        .vocab-en { font-family: 'Inter', sans-serif; font-weight: 700; color: #1e293b; font-size: 1.1rem; }
        .vocab-pt { font-size: 0.75rem; text-transform: uppercase; color: #94a3b8; font-weight: 600; margin-top: 2px; }
        .vocab-ipa { font-family: 'Courier New', monospace; color: #f59e0b; font-size: 0.85rem; margin-top: 2px; }
        
        .btn-nav-main { transition: all 0.3s; box-shadow: 0 4px 0 rgba(0,0,0,0.1); display: inline-flex; align-items: center; justify-content: center; gap: 8px; }
        .btn-nav-main:hover { transform: translateY(-2px); box-shadow: 0 6px 0 rgba(0,0,0,0.1); }
    </style>
</head>
<body class="p-3 md:p-6 pb-20">

    <div class="max-w-7xl mx-auto">
        <!-- Navega√ß√£o Topo -->
        <div class="flex flex-col sm:flex-row justify-center gap-4 mb-8">
            <a href="https://espaco-liberdade.github.io/CasaBilingueKids/" class="btn-nav-main bg-indigo-600 text-white font-bold py-3 px-8 rounded-full text-center w-full sm:w-auto"><span>üè†</span> Voltar ao Menu</a>
            <a href="https://espaco-liberdade.github.io/silabasbilingue/" class="btn-nav-main bg-orange-500 text-white font-bold py-3 px-8 rounded-full text-center w-full sm:w-auto"><span>üî§</span> Menu S√≠labas</a>
        </div>

        <header class="text-center mb-6">
            <h1 class="kids-font text-4xl md:text-5xl text-purple-600 mb-2 drop-shadow-sm">CASA BIL√çNGUE KIDS</h1>
            <p class="text-orange-500 font-semibold italic text-sm md:text-base">O jeito mais natural de criar um pequeno bil√≠ngue</p>
            <div class="inline-block bg-yellow-400 px-6 py-2 rounded-full mt-4 shadow-md transform rotate-1">
                <span class="kids-font text-xl text-white tracking-wide">M√≥dulo: Letra C (Jogo das S√≠labas)</span>
            </div>
        </header>

        <div class="header-sticky mb-8 rounded-xl">
            <nav class="flex justify-center gap-2 md:gap-4 py-2 flex-wrap px-2">
                <a href="#sec-ca" class="nav-dot bg-red-400">CA</a>
                <a href="#sec-ce" class="nav-dot bg-blue-400">CE</a>
                <a href="#sec-ci" class="nav-dot bg-green-400">CI</a>
                <a href="#sec-co" class="nav-dot bg-orange-400">CO</a>
                <a href="#sec-cu" class="nav-dot bg-purple-400">CU</a>
                <a href="#sec-cao" class="nav-dot bg-yellow-500 text-sm">C√ÉO</a>
            </nav>
            <div class="text-center mt-2">
                <span class="text-[11px] font-bold text-indigo-600 bg-indigo-50 px-3 py-1 rounded-full border border-indigo-200">üéÆ DESAFIO: Clique nas s√≠labas embaralhadas na ordem certa!</span>
            </div>
        </div>

        <div id="content-area">
            <section id="sec-ca" class="mb-16 scroll-mt-32">
                <div class="flex items-center gap-3 mb-6 border-b-4 border-red-100 pb-2">
                    <div class="w-10 h-10 bg-red-500 rounded-full flex items-center justify-center text-white font-bold shadow-md">7</div>
                    <h2 class="kids-font text-3xl text-red-500">Fam√≠lia do CA</h2>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="grid-ca"></div>
            </section>

            <section id="sec-ce" class="mb-16 scroll-mt-32">
                <div class="flex items-center gap-3 mb-6 border-b-4 border-blue-100 pb-2">
                    <div class="w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold shadow-md">8</div>
                    <h2 class="kids-font text-3xl text-blue-500">Fam√≠lia do CE</h2>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="grid-ce"></div>
            </section>

            <section id="sec-ci" class="mb-16 scroll-mt-32">
                <div class="flex items-center gap-3 mb-6 border-b-4 border-green-100 pb-2">
                    <div class="w-10 h-10 bg-green-500 rounded-full flex items-center justify-center text-white font-bold shadow-md">9</div>
                    <h2 class="kids-font text-3xl text-green-500">Fam√≠lia do CI</h2>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="grid-ci"></div>
            </section>

            <section id="sec-co" class="mb-16 scroll-mt-32">
                <div class="flex items-center gap-3 mb-6 border-b-4 border-orange-100 pb-2">
                    <div class="w-10 h-10 bg-orange-500 rounded-full flex items-center justify-center text-white font-bold shadow-md">10</div>
                    <h2 class="kids-font text-3xl text-orange-500">Fam√≠lia do CO</h2>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="grid-co"></div>
            </section>

            <section id="sec-cu" class="mb-16 scroll-mt-32">
                <div class="flex items-center gap-3 mb-6 border-b-4 border-purple-100 pb-2">
                    <div class="w-10 h-10 bg-purple-500 rounded-full flex items-center justify-center text-white font-bold shadow-md">11</div>
                    <h2 class="kids-font text-3xl text-purple-500">Fam√≠lia do CU</h2>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="grid-cu"></div>
            </section>

            <section id="sec-cao" class="mb-16 scroll-mt-32">
                <div class="flex items-center gap-3 mb-6 border-b-4 border-yellow-100 pb-2">
                    <div class="w-10 h-10 bg-yellow-600 rounded-full flex items-center justify-center text-white font-bold shadow-md">12</div>
                    <h2 class="kids-font text-3xl text-yellow-600">O Som do C√ÉO</h2>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="grid-cao"></div>
            </section>
        </div>

        <section class="mt-20 bg-white p-6 rounded-3xl border-4 border-gray-100 shadow-xl">
            <div class="text-center mb-8">
                <h2 class="kids-font text-3xl text-gray-700">üìö Resumo do Vocabul√°rio</h2>
                <p class="text-gray-400 text-sm">Toque no alto-falante para praticar a pron√∫ncia</p>
            </div>
            <div id="vocab-container" class="vocab-grid"></div>
        </section>

        <div class="flex flex-col sm:flex-row justify-center gap-4 mt-12 mb-8">
            <a href="https://espaco-liberdade.github.io/CasaBilingueKids/" class="btn-nav-main bg-indigo-600 text-white font-bold py-4 px-8 rounded-2xl text-center w-full sm:w-auto text-lg"><span>üè†</span> Voltar ao Menu Principal</a>
        </div>
        
        <footer class="text-center text-gray-400 text-xs pb-4">
            <p>&copy; 2024 Casa Bil√≠ngue Kids - Desenvolvido por F√°bio de Almeida</p>
        </footer>
    </div>

    <script>
        // --- CONFIGURA√á√ÉO DE √ÅUDIO PARA IOS/MOBILE ---
        let audioCtx = null;

        function initAudio() {
            if (!audioCtx) {
                audioCtx = new (window.AudioContext || window.webkitAudioContext)();
            }
            if (audioCtx.state === 'suspended') {
                audioCtx.resume();
            }
        }

        function playSound(type) {
            initAudio(); // Tenta destravar √°udio no toque
            if (!audioCtx) return;

            const oscillator = audioCtx.createOscillator();
            const gainNode = audioCtx.createGain();
            oscillator.connect(gainNode);
            gainNode.connect(audioCtx.destination);

            const now = audioCtx.currentTime;

            if (type === 'plim') {
                oscillator.type = 'sine';
                oscillator.frequency.setValueAtTime(880, now);
                oscillator.frequency.exponentialRampToValueAtTime(1760, now + 0.1);
                gainNode.gain.setValueAtTime(0.3, now);
                gainNode.gain.exponentialRampToValueAtTime(0.001, now + 0.5);
                oscillator.start(now);
                oscillator.stop(now + 0.5);
            } else if (type === 'error') {
                oscillator.type = 'sawtooth';
                oscillator.frequency.setValueAtTime(150, now);
                oscillator.frequency.linearRampToValueAtTime(100, now + 0.2);
                gainNode.gain.setValueAtTime(0.3, now);
                gainNode.gain.linearRampToValueAtTime(0.001, now + 0.3);
                oscillator.start(now);
                oscillator.stop(now + 0.3);
            } else if (type === 'success') {
                [523.25, 659.25, 783.99].forEach((freq, i) => {
                    const osc = audioCtx.createOscillator();
                    const gn = audioCtx.createGain();
                    osc.connect(gn);
                    gn.connect(audioCtx.destination);
                    osc.type = 'triangle';
                    osc.frequency.value = freq;
                    gn.gain.setValueAtTime(0.2, now + (i * 0.1));
                    gn.gain.linearRampToValueAtTime(0.001, now + 0.8 + (i * 0.1));
                    osc.start(now + (i * 0.1));
                    osc.stop(now + 1.2);
                });
            }
        }

        // --- DADOS DA LETRA C ---
        const data = {
            ca: [
                { pt: "CA-SA", en: "House", tr: "(H√ÅUSS)", emoji: "üè†", s1: "I live in a big house.", t1: "Eu moro em uma casa grande.", st1: "(/ai liv in √™ big h√°uss/)", s2: "My house is blue.", t2: "Minha casa √© azul.", st2: "(/mai h√°uss iz blu/)" },
                { pt: "CA-VA-LO", en: "Horse", tr: "(H√ìRSS)", emoji: "üêé", s1: "The horse is brown.", t1: "O cavalo √© marrom.", st1: "(/d√¢ h√≥rss iz br√°un/)", s2: "I like to ride a horse.", t2: "Eu gosto de andar a cavalo.", st2: "(/ai l√°ik tu r√°id √™ h√≥rss/)" },
                { pt: "CA-CHOR-RO", en: "Dog", tr: "(D√ìG)", emoji: "üê∂", s1: "My dog is happy.", t1: "Meu cachorro √© feliz.", st1: "(/mai d√≥g iz h√©p-pi/)", s2: "The dog barks a lot.", t2: "O cachorro late muito.", st2: "(/d√¢ d√≥g b√°rks √™ l√≥t/)" },
                { pt: "CA-MA", en: "Bed", tr: "(B√âD)", emoji: "üõèÔ∏è", s1: "I sleep in my bed.", t1: "Eu durmo na minha cama.", st1: "(/ai sl√≠p in mai b√©d/)", s2: "The bed is soft.", t2: "A cama √© macia.", st2: "(/d√¢ b√©d iz s√≥ft/)" },
                { pt: "CAR-RO", en: "Car", tr: "(K√ÅR)", emoji: "üöó", s1: "Dad drives a red car.", t1: "Papai dirige um carro vermelho.", st1: "(/d√©d dr√°ivs √™ r√©d k√°r/)", s2: "The car is clean.", t2: "O carro est√° limpo.", st2: "(/d√¢ k√°r iz klin/)" },
                { pt: "CA-MI-SA", en: "Shirt", tr: "(SH√õRT)", emoji: "üëï", s1: "I wear a blue shirt.", t1: "Eu uso uma camisa azul.", st1: "(/ai u√™r √™ blu sh√ªrt/)", s2: "Mom washed my shirt.", t2: "Mam√£e lavou minha camisa.", st2: "(/m√¥m u√≥shd mai sh√ªrt/)" },
                { pt: "CAI-XA", en: "Box", tr: "(B√ìKS)", emoji: "üì¶", s1: "Open the toy box.", t1: "Abra a caixa de brinquedos.", st1: "(/√¥u-p√™n d√¢ t√≥i b√≥ks/)", s2: "The box is big.", t2: "A caixa √© grande.", st2: "(/d√¢ b√≥ks iz big/)" },
                { pt: "CA-F√â", en: "Coffee", tr: "(K√ì-FI)", emoji: "‚òï", s1: "Grandpa drinks coffee.", t1: "O vov√¥ bebe caf√©.", st1: "(/gr√©nd-p√° dr√≠nks k√≥-fi/)", s2: "The coffee is hot.", t2: "O caf√© est√° quente.", st2: "(/d√¢ k√≥-fi iz h√≥t/)" },
                { pt: "CA-DEI-RA", en: "Chair", tr: "(TCH√âR)", emoji: "ü™ë", s1: "Sit on the chair.", t1: "Sente-se na cadeira.", st1: "(/s√≠t on d√¢ tch√©r/)", s2: "The wooden chair.", t2: "A cadeira de madeira.", st2: "(/d√¢ u√∫-d√™n tch√©r/)" },
                { pt: "CAS-TE-LO", en: "Castle", tr: "(K√â-SOL)", emoji: "üè∞", s1: "The castle is big.", t1: "O castelo √© grande.", st1: "(/d√¢ k√©-sol iz b√≠g/)", s2: "A beautiful castle.", t2: "Um belo castelo.", st2: "(/√™ bi√∫-ti-ful k√©-sol/)" },
                { pt: "CA-DER-NO", en: "Notebook", tr: "(N√îUT-BUK)", emoji: "üìì", s1: "I write in my notebook.", t1: "Eu escrevo no meu caderno.", st1: "(/ai r√°it in mai n√¥ut-buk/)", s2: "My new notebook.", t2: "Meu caderno novo.", st2: "(/mai ni√∫ n√¥ut-buk/)" },
                { pt: "CA-BE-LO", en: "Hair", tr: "(H√âR)", emoji: "üíá‚Äç‚ôÇÔ∏è", s1: "She has long hair.", t1: "Ela tem cabelo comprido.", st1: "(/shi h√©s l√≥ng h√©r/)", s2: "Comb your hair.", t2: "Penteie seu cabelo.", st2: "(/k√≥u-m i√≥r h√©r/)" }
            ],
            ce: [
                { pt: "CE-BO-LA", en: "Onion", tr: "(√ÇN-I√îN)", emoji: "üßÖ", s1: "The onion is round.", t1: "A cebola √© redonda.", st1: "(/d√¢ √¢n-i√¥n iz r√°und/)", s2: "I like onions.", t2: "Eu gosto de cebolas.", st2: "(/ai l√°ik √¢n-i√¥ns/)" },
                { pt: "CE-NOU-RA", en: "Carrot", tr: "(K√â-R√ìT)", emoji: "ü•ï", s1: "Rabbits eat carrots.", t1: "Coelhos comem cenouras.", st1: "(/r√©-bits it k√©-r√¥ts/)", s2: "The carrot is orange.", t2: "A cenoura √© laranja.", st2: "(/d√¢ k√©-r√¥t iz √≥-rindj/)" },
                { pt: "CE-LU-LAR", en: "Cell phone", tr: "(S√âL F√îUN)", emoji: "üì±", s1: "Dad lost his cell phone.", t1: "Papai perdeu o celular dele.", st1: "(/d√©d l√≥st hiz s√©l f√¥un/)", s2: "The phone is ringing.", t2: "O telefone est√° tocando.", st2: "(/d√¢ f√¥un iz r√≠n-guin/)" },
                { pt: "CE-RE-JA", en: "Cherry", tr: "(TCH√â-RI)", emoji: "üçí", s1: "The cherry is red.", t1: "A cereja √© vermelha.", st1: "(/d√¢ tch√©-ri iz r√©d/)", s2: "Sweet cherry.", t2: "Cereja doce.", st2: "(/su√≠t tch√©-ri/)" },
                { pt: "CES-TA", en: "Basket", tr: "(B√âS-KIT)", emoji: "üß∫", s1: "A basket of flowers.", t1: "Uma cesta de flores.", st1: "(/√™ b√©s-kit √¥v fl√°u-√™rs/)", s2: "Put it in the basket.", t2: "Coloque na cesta.", st2: "(/put it in d√¢ b√©s-kit/)" },
                { pt: "CE-GO", en: "Blind", tr: "(BL√ÅIND)", emoji: "ü¶Ø", s1: "The blind man is kind.", t1: "O homem cego √© gentil.", st1: "(/d√¢ bl√°ind m√©n iz k√°ind/)", s2: "Guide dog for the blind.", t2: "C√£o guia para o cego.", st2: "(/g√°id d√≥g f√¥r d√¢ bl√°ind/)" },
                { pt: "CE-GO-NHA", en: "Stork", tr: "(ST√ìRK)", emoji: "ü¶¢", s1: "The stork is white.", t1: "A cegonha √© branca.", st1: "(/d√¢ st√≥rk iz u√°it/)", s2: "A baby with the stork.", t2: "Um beb√© com a cegonha.", st2: "(/√™ b√™i-bi u√≠d d√¢ st√≥rk/)" },
                { pt: "CEN-TO-PEI-A", en: "Centipede", tr: "(S√âN-TI-P√çD)", emoji: "üêõ", s1: "The centipede is slow.", t1: "A centopeia √© lenta.", st1: "(/d√¢ s√©n-ti-p√≠d iz sl√≥u/)", s2: "Many legs.", t2: "Muitas pernas.", st2: "(/m√©-ni l√©gs/)" },
                { pt: "C√â-RE-BRO", en: "Brain", tr: "(BR√äIN)", emoji: "üß†", s1: "Use your brain.", t1: "Use seu c√©rebro.", st1: "(/iuz i√≥r br√™in/)", s2: "The brain is smart.", t2: "O c√©rebro √© esperto.", st2: "(/d√¢ br√™in iz sm√°rt/)" },
                { pt: "C√â-DU-LA", en: "Banknote", tr: "(B√âNK-N√îUT)", emoji: "üíµ", s1: "Green banknote.", t1: "C√©dula verde.", st1: "(/gr√≠n b√©nk-n√¥ut/)", s2: "Paper banknote.", t2: "C√©dula de papel.", st2: "(/p√™i-p√™r b√©nk-n√¥ut/)" },
                { pt: "CE-RA", en: "Wax", tr: "(U√ÅKS)", emoji: "üïØÔ∏è", s1: "Made of wax.", t1: "Feito de cera.", st1: "(/m√™id √¥v u√°ks/)", s2: "Ear wax.", t2: "Cera de ouvido.", st2: "(/√≠r u√°ks/)" },
                { pt: "C√âU", en: "Sky", tr: "(SK√ÅI)", emoji: "üå§Ô∏è", s1: "Look at the sky.", t1: "Olhe para o c√©u.", st1: "(/luk √©t d√¢ sk√°i/)", s2: "The sky is blue.", t2: "O c√©u √© azul.", st2: "(/d√¢ sk√°i iz blu/)" }
            ],
            ci: [
                { pt: "CI-DA-DE", en: "City", tr: "(S√ç-TI)", emoji: "üèôÔ∏è", s1: "The city is busy.", t1: "A cidade √© movimentada.", st1: "(/d√¢ s√≠-ti iz b√≠-zi/)", s2: "I love the city.", t2: "Eu amo a cidade.", st2: "(/ai l√¢v d√¢ s√≠-ti/)" },
                { pt: "CIR-CO", en: "Circus", tr: "(S√äR-K√ÇSS)", emoji: "üé™", s1: "Let's go to the circus.", t1: "Vamos ao circo.", st1: "(/l√©ts gou tu d√¢ s√™r-k√¢ss/)", s2: "The circus has clowns.", t2: "O circo tem palha√ßos.", st2: "(/d√¢ s√™r-k√¢ss h√©z kl√°uns/)" },
                { pt: "CIN-TO", en: "Belt", tr: "(B√âLT)", emoji: "ü•ã", s1: "Fasten your belt.", t1: "Aperte seu cinto.", st1: "(/f√©s-s√™n i√≥r b√©lt/)", s2: "A black belt.", t2: "Um cinto preto.", st2: "(/√™ bl√©k b√©lt/)" },
                { pt: "CIN-CO", en: "Five", tr: "(F√ÅIV)", emoji: "5Ô∏è‚É£", s1: "Five fingers.", t1: "Cinco dedos.", st1: "(/f√°iv f√≠ng-gu√™rs/)", s2: "I am five.", t2: "Eu tenho cinco anos.", st2: "(/ai √©m f√°iv/)" },
                { pt: "CI-NE-MA", en: "Cinema", tr: "(S√ç-N√ä-M√Ç)", emoji: "üé¨", s1: "We are at the cinema.", t1: "N√≥s estamos no cinema.", st1: "(/ui ar √©t d√¢ s√≠-n√™-m√¢/)", s2: "I like the cinema.", t2: "Eu gosto do cinema.", st2: "(/ai l√°ik d√¢ s√≠-n√™-m√¢/)" },
                { pt: "CI-GAR-RA", en: "Cicada", tr: "(SI-K√äI-D√Ç)", emoji: "ü¶ó", s1: "The cicada is noisy.", t1: "A cigarra √© barulhenta.", st1: "(/d√¢ si-k√™i-d√¢ iz n√≥i-zi/)", s2: "Hear the cicada.", t2: "Ou√ßa a cigarra.", st2: "(/h√≠r d√¢ si-k√™i-d√¢/)" },
                { pt: "CIS-NE", en: "Swan", tr: "(SU√ìN)", emoji: "ü¶¢", s1: "White swan.", t1: "Cisne branco.", st1: "(/u√°it su√≥n/)", s2: "Swan in the lake.", t2: "Cisne no lago.", st2: "(/su√≥n in d√¢ l√™ik/)" },
                { pt: "CI-EN-TIS-TA", en: "Scientist", tr: "(S√ÅI-√äN-TIST)", emoji: "üî¨", s1: "The scientist is smart.", t1: "O cientista √© esperto.", st1: "(/d√¢ s√°i-√™n-tist iz sm√°rt/)", s2: "I want to be a scientist.", t2: "Eu quero ser um cientista.", st2: "(/ai u√≥nt tu bi √™ s√°i-√™n-tist/)" },
                { pt: "C√ç-LI-OS", en: "Eyelashes", tr: "(√ÅI-L√â-SHIZ)", emoji: "üëÅÔ∏è", s1: "Long eyelashes.", t1: "C√≠lios longos.", st1: "(/l√≥ng √°i-l√©-shiz/)", s2: "My eyelashes.", t2: "Meus c√≠lios.", st2: "(/mai √°i-l√©-shiz/)" },
                { pt: "CI-CLO-NE", en: "Cyclone", tr: "(S√ÅI-KL√îUN)", emoji: "üå™Ô∏è", s1: "A powerful cyclone.", t1: "Um ciclone poderoso.", st1: "(/√™ p√°u-√™r-ful s√°i-kl√¥un/)", s2: "Cyclone wind.", t2: "Vento de ciclone.", st2: "(/s√°i-kl√¥un u√≠nd/)" },
                { pt: "CIN-ZA", en: "Gray", tr: "(GR√äI)", emoji: "üêò", s1: "Gray cat.", t1: "Gato cinza.", st1: "(/gr√™i k√©t/)", s2: "Gray rainy day.", t2: "Dia chuvoso cinza.", st2: "(/gr√™i r√™i-ni d√™i/)" },
                { pt: "CI-MEN-TO", en: "Cement", tr: "(SI-M√âNT)", emoji: "üß±", s1: "Hard cement.", t1: "Cimento duro.", st1: "(/h√°rd si-m√©nt/)", s2: "Wet cement.", t2: "Cimento molhado.", st2: "(/u√©t si-m√©nt/)" }
            ],
            co: [
                { pt: "CO-PO", en: "Cup", tr: "(K√ÇP)", emoji: "ü•§", s1: "Drink from the cup.", t1: "Beba no copo.", st1: "(/dr√≠nk fr√¥m d√¢ k√¢p/)", s2: "A blue cup.", t2: "Um copo azul.", st2: "(/√™ blu k√¢p/)" },
                { pt: "CO-CO", en: "Coconut", tr: "(K√îU-K√î-N√ÇT)", emoji: "ü••", s1: "Sweet coconut.", t1: "Coco doce.", st1: "(/su√≠t k√¥u-k√¥-n√¢t/)", s2: "I like coconut water.", t2: "Eu gosto de √°gua de coco.", st2: "(/ai l√°ik k√¥u-k√¥-n√¢t u√≥-t√™r/)" },
                { pt: "CO-LA", en: "Glue", tr: "(GL√ö)", emoji: "üß¥", s1: "Use the glue.", t1: "Use a cola.", st1: "(/iuz d√¢ gl√∫/)", s2: "Sticky glue.", t2: "Cola grudenta.", st2: "(/st√≠-ki gl√∫/)" },
                { pt: "CO-E-LHO", en: "Rabbit", tr: "(R√â-BIT)", emoji: "üêá", s1: "The rabbit hops.", t1: "O coelho pula.", st1: "(/d√¢ r√©-bit h√≥ps/)", s2: "A white rabbit.", t2: "Um coelho branco.", st2: "(/√™ u√°it r√©-bit/)" },
                { pt: "CO-BRA", en: "Snake", tr: "(SN√äIK)", emoji: "üêç", s1: "Long snake.", t1: "Cobra longa.", st1: "(/l√≥ng sn√™ik/)", s2: "Be careful.", t2: "Tenha cuidado.", st2: "(/bi k√©-r-ful/)" },
                { pt: "CO-LHER", en: "Spoon", tr: "(SP√öN)", emoji: "ü•Ñ", s1: "Use a silver spoon.", t1: "Use uma colher de prata.", st1: "(/iuz √™ s√≠l-v√™r sp√∫n/)", s2: "Spoon for the soup.", t2: "Colher para a sopa.", st2: "(/sp√∫n f√¥r d√¢ s√∫p/)" },
                { pt: "CO-MI-DA", en: "Food", tr: "(F√öD)", emoji: "ü•ò", s1: "Good food.", t1: "Comida boa.", st1: "(/g√∫d f√∫d/)", s2: "Healthy food.", t2: "Comida saud√°vel.", st2: "(/h√©l-thi f√∫d/)" },
                { pt: "CO-RA-√á√ÉO", en: "Heart", tr: "(H√ÅRT)", emoji: "‚ù§Ô∏è", s1: "Happy heart.", t1: "Cora√ß√£o feliz.", st1: "(/h√©p-pi h√°rt/)", s2: "Red heart.", t2: "Cora√ß√£o vermelho.", st2: "(/r√©d h√°rt/)" },
                { pt: "CO-RU-JA", en: "Owl", tr: "(√ÅU-OL)", emoji: "ü¶â", s1: "The owl is awake.", t1: "A coruja est√° acordada.", st1: "(/d√¢ √°u-ol iz √™-u√™ik/)", s2: "Brown owl.", t2: "Coruja marrom.", st2: "(/br√°un √°u-ol/)" },
                { pt: "CO-ZI-NHA", en: "Kitchen", tr: "(K√ç-TCH√äN)", emoji: "üç≥", s1: "In the kitchen.", t1: "Na cozinha.", st1: "(/in d√¢ k√≠-tch√™n/)", s2: "Clean kitchen.", t2: "Cozinha limpa.", st2: "(/kl√≠n k√≠-tch√™n/)" },
                { pt: "CO-TO-VE-LO", en: "Elbow", tr: "(√âL-B√îU)", emoji: "üí™", s1: "Touch your elbow.", t1: "Toque seu cotovelo.", st1: "(/t√¢tch i√≥r √©l-b√¥u/)", s2: "My elbow hurts.", t2: "Meu cotovelo d√≥i.", st2: "(/mai √©l-b√¥u h√ªrts/)" },
                { pt: "COM-PU-TA-DOR", en: "Computer", tr: "(K√îM-PI√ö-T√äR)", emoji: "üíª", s1: "Turn on the computer.", t1: "Ligue o computador.", st1: "(/t√ªrn on d√¢ k√¥m-pi√∫-t√™r/)", s2: "Fast computer.", t2: "Computador r√°pido.", st2: "(/f√©s-t k√¥m-pi√∫-t√™r/)" }
            ],
            cu: [
                { pt: "CU-BO", en: "Cube", tr: "(KI√öB)", emoji: "üßä", s1: "Ice cube.", t1: "Cubo de gelo.", st1: "(/√°is ki√∫b/)", s2: "A red cube.", t2: "Um cubo vermelho.", st2: "(/√™ r√©d ki√∫b/)" },
                { pt: "CU-RA-TI-VO", en: "Band-aid", tr: "(B√âND-√äID)", emoji: "ü©π", s1: "I need a band-aid.", t1: "Eu preciso de um curativo.", st1: "(/ai n√≠d √™ b√©nd-√™id/)", s2: "Small band-aid.", t2: "Curativo pequeno.", st2: "(/sm√≥l b√©nd-√™id/)" },
                { pt: "CU-E-CA", en: "Underwear", tr: "(√ÇN-D√äR-U√âR)", emoji: "ü©≤", s1: "Wear clean underwear.", t1: "Use cueca limpa.", st1: "(/u√™r kl√≠n √¢n-d√™r-u√©r/)", s2: "Blue underwear.", t2: "Cueca azul.", st2: "(/bl√∫ √¢n-d√™r-u√©r/)" },
                { pt: "CUP-CA-KE", en: "Cupcake", tr: "(K√ÇP-K√äIK)", emoji: "üßÅ", s1: "Delicious cupcake.", t1: "Cupcake delicioso.", st1: "(/di-l√≠-sh√¢s k√¢p-k√™ik/)", s2: "Pink cupcake.", t2: "Cupcake rosa.", st2: "(/p√≠nk k√¢p-k√™ik/)" },
                { pt: "CU-CO", en: "Cuckoo", tr: "(K√ö-K√ö)", emoji: "üï∞Ô∏è", s1: "Cuckoo clock.", t1: "Rel√≥gio de cuco.", st1: "(/k√∫-k√∫ kl√≥k/)", s2: "Hear the cuckoo.", t2: "Ou√ßa o cuco.", st2: "(/h√≠r d√¢ k√∫-k√∫/)" },
                { pt: "CU-PI-DO", en: "Cupid", tr: "(KI√ö-PID)", emoji: "üèπ", s1: "Cupid's arrow.", t1: "Flecha do cupido.", st1: "(/ki√∫-pidz √©-rou/)", s2: "Little cupid.", t2: "Pequeno cupido.", st2: "(/l√≠-tol ki√∫-pid/)" },
                { pt: "CUI-A", en: "Gourd", tr: "(G√ìRD)", emoji: "ü•£", s1: "Wooden gourd.", t1: "Cuia de madeira.", st1: "(/u√∫-d√™n g√≥rd/)", s2: "Tea in the gourd.", t2: "Ch√° na cuia.", st2: "(/ti in d√¢ g√≥rd/)" },
                { pt: "CU-PIM", en: "Termite", tr: "(T√äR-M√ÅIT)", emoji: "üêú", s1: "The termite eats wood.", t1: "O cupim come madeira.", st1: "(/d√¢ t√™r-m√°it √≠ts u√∫d/)", s2: "Small termite.", t2: "Cupim pequeno.", st2: "(/sm√≥l t√™r-m√°it/)" },
                { pt: "CUS-CUZ", en: "Couscous", tr: "(K√öS-K√öS)", emoji: "üç≤", s1: "I love couscous.", t1: "Eu amo cuscuz.", st1: "(/ai l√¢v k√∫s-k√∫s/)", s2: "Yellow couscous.", t2: "Cuscuz amarelo.", st2: "(/i√©-lou k√∫s-k√∫s/)" },
                { pt: "CUR-VA", en: "Curve", tr: "(K√äRV)", emoji: "‚Ü©Ô∏è", s1: "Dangerous curve.", t1: "Curva perigosa.", st1: "(/d√™n-dj√™-r√¢s k√™rv/)", s2: "Road curve.", t2: "Curva na estrada.", st2: "(/r√≥ud k√™rv/)" },
                { pt: "CU-TU-CAR", en: "Poke", tr: "(P√îUK)", emoji: "üëà", s1: "Don't poke me.", t1: "N√£o me cutuque.", st1: "(/dount p√¥uk mi/)", s2: "Stop poking.", t2: "Pare de cutucar.", st2: "(/st√≥p p√¥u-kin/)" },
                { pt: "CUI-DA-DO", en: "Careful", tr: "(K√â-R-FUL)", emoji: "‚ö†Ô∏è", s1: "Be careful.", t1: "Tenha cuidado.", st1: "(/bi k√©-r-ful/)", s2: "Careful with the fire.", t2: "Cuidado com o fogo.", st2: "(/k√©-r-ful u√≠d d√¢ f√°i-√™r/)" }
            ],
            cao: [
                { pt: "C√ÉO", en: "Dog", tr: "(D√ìG)", emoji: "üêï", s1: "The dog is a friend.", t1: "O c√£o √© um amigo.", st1: "(/d√¢ d√≥g iz √™ fr√©nd/)", s2: "Good dog!", t2: "Bom c√£o!", st2: "(/gud d√≥g/)" },
                { pt: "VUL-C√ÉO", en: "Volcano", tr: "(V√îL-K√äI-N√îU)", emoji: "üåã", s1: "The volcano is big.", t1: "O vulc√£o √© grande.", st1: "(/d√¢ v√¥l-k√™i-n√¥u iz big/)", s2: "Hot volcano.", t2: "Vulc√£o quente.", st2: "(/h√≥t v√¥l-k√™i-n√¥u/)" },
                { pt: "FAL-C√ÉO", en: "Falcon", tr: "(F√âL-K√îN)", emoji: "ü¶Ö", s1: "The falcon flies.", t1: "O falc√£o voa.", st1: "(/d√¢ f√©l-k√¥n fl√°iz/)", s2: "Sharp eyes.", t2: "Olhos afiados.", st2: "(/sh√°rp √°is/)" },
                { pt: "FU-RA-C√ÉO", en: "Hurricane", tr: "(H√ä-RI-K√äIN)", emoji: "üåÄ", s1: "Powerful hurricane.", t1: "Furac√£o poderoso.", st1: "(/p√°u-√™r-ful h√™-ri-k√™in/)", s2: "Hurricane wind.", t2: "Vento de furac√£o.", st2: "(/h√™-ri-k√™in u√≠nd/)" },
                { pt: "BAL-C√ÉO", en: "Counter", tr: "(K√ÅUN-T√äR)", emoji: "üè™", s1: "On the counter.", t1: "No balc√£o.", st1: "(/on d√¢ k√°un-t√™r/)", s2: "Kitchen counter.", t2: "Balc√£o da cozinha.", st2: "(/k√≠-tch√™n k√°un-t√™r/)" },
                { pt: "MA-CA-C√ÉO", en: "Overalls", tr: "(√îU-V√äR-√ìLZ)", emoji: "üëñ", s1: "Blue overalls.", t1: "Macac√£o azul.", st1: "(/blu √¥u-v√™r-√≥lz/)", s2: "Wear overalls.", t2: "Veste macac√£o.", st2: "(/u√™r √¥u-v√™r-√≥lz/)" },
                { pt: "FA-C√ÉO", en: "Machete", tr: "(M√Ç-SH√â-TI)", emoji: "üî™", s1: "Sharp machete.", t1: "Fac√£o afiado.", st1: "(/sh√°rp m√¢-sh√©-ti/)", s2: "Use the machete.", t2: "Use o fac√£o.", st2: "(/iuz d√¢ m√¢-sh√©-ti/)" },
                { pt: "CAS-C√ÉO", en: "Smudgy", tr: "(SM√Ç-DJI)", emoji: "üßñ‚Äç‚ôÇÔ∏è", s1: "Don't be smudgy.", t1: "N√£o sejas um casc√£o.", st1: "(/dount bi sm√¢-dji/)", s2: "Clean boy.", t2: "Menino limpo.", st2: "(/kl√≠n b√≥i/)" }
            ]
        };

        // --- L√ìGICA DO JOGO ---
        function shuffle(array) {
            const newArray = [...array];
            for (let i = newArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
            }
            return newArray;
        }

        window.checkSyllable = function(btn, fullWord, correctSyllableText, cardId) {
            const container = document.getElementById(`syllables-${cardId}`);
            const currentIndex = parseInt(container.dataset.currentIndex);
            const correctOrder = fullWord.split("-");

            if (correctSyllableText === correctOrder[currentIndex]) {
                playSound('plim');
                btn.classList.add('syllable-correct');
                container.dataset.currentIndex = currentIndex + 1;

                if (currentIndex + 1 === correctOrder.length) {
                    setTimeout(() => {
                        playSound('success');
                        const emojiBtn = document.getElementById(`emoji-${cardId}`);
                        emojiBtn.classList.add('completed'); 
                        speakSlowPT(fullWord);
                    }, 500);
                }
            } else {
                playSound('error');
                btn.classList.add('syllable-wrong');
                setTimeout(() => {
                    btn.classList.remove('syllable-wrong');
                }, 500);
            }
        };

        function renderBlocks() {
            const vocabContainer = document.getElementById('vocab-container');
            let cardCounter = 0;

            for (const section in data) {
                const container = document.getElementById(`grid-${section}`);
                if (!container) continue;

                data[section].forEach(item => {
                    cardCounter++;
                    const cardId = `card-${cardCounter}`;
                    const syllablesCorrect = item.pt.split("-");
                    const syllablesToRender = syllablesCorrect.length > 1 ? shuffle(syllablesCorrect) : syllablesCorrect;
                    
                    let sylButtons = syllablesToRender.map(s => 
                        `<button onclick="checkSyllable(this, '${item.pt}', '${s}', '${cardId}')" class="syllable-game-btn">${s}</button>`
                    ).join("");
                    
                    const card = `
                        <div class="card-word">
                            <div class="p-5 flex flex-col items-center gap-4 h-full">
                                <div id="emoji-${cardId}" onclick="speakSlowPT('${item.pt}')" class="emoji-container emoji-btn w-24 h-24 bg-gradient-to-br from-indigo-50 to-white rounded-full flex items-center justify-center text-5xl shadow-inner border border-indigo-100" title="Toque para ouvir em Portugu√™s">
                                    ${item.emoji}
                                </div>
                                <div class="w-full text-center flex-1 flex flex-col">
                                    <div id="syllables-${cardId}" data-current-index="0" class="flex gap-2 mb-4 justify-center flex-wrap">${sylButtons}</div>
                                    <div class="bg-indigo-50 rounded-xl p-3 mb-4 border border-indigo-100">
                                        <div class="flex items-center justify-center gap-3">
                                            <span class="text-2xl font-bold text-indigo-700 uppercase tracking-wide font-sans">${item.en}</span>
                                            <button onclick="speakEN('${item.en}')" class="btn-audio shadow-sm" aria-label="Ouvir em ingl√™s">üîä</button>
                                        </div>
                                        <span class="transcription font-mono mt-1 block">${item.tr}</span>
                                    </div>
                                    <div class="bg-gray-50 p-4 rounded-xl border-l-4 border-indigo-300 text-left space-y-4 mt-auto shadow-sm">
                                        <div class="relative group">
                                            <div class="flex justify-between items-start gap-2">
                                                <span class="text-[13px] font-bold text-gray-800 leading-tight">${item.s1}</span>
                                                <button onclick="speakEN('${item.s1.replace(/'/g, "\\'")}')" class="btn-audio w-6 h-6 text-[10px]" aria-label="Ouvir frase 1">üîä</button>
                                            </div>
                                            <span class="translation-text">${item.t1}</span>
                                            <span class="simplified-pron mt-1 block">${item.st1}</span>
                                        </div>
                                        <div class="relative group border-t border-gray-200 pt-3">
                                            <div class="flex justify-between items-start gap-2">
                                                <span class="text-[13px] font-bold text-gray-800 leading-tight">${item.s2}</span>
                                                <button onclick="speakEN('${item.s2.replace(/'/g, "\\'")}')" class="btn-audio w-6 h-6 text-[10px]" aria-label="Ouvir frase 2">üîä</button>
                                            </div>
                                            <span class="translation-text">${item.t2}</span>
                                            <span class="simplified-pron mt-1 block">${item.st2}</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>`;
                    
                    container.innerHTML += card;

                    const vocabCard = `
                        <div class="vocab-item">
                            <div class="vocab-content">
                                <span class="vocab-en">${item.en}</span>
                                <span class="vocab-ipa">${item.tr}</span>
                                <span class="vocab-pt">${item.pt.replace(/-/g, "")}</span>
                            </div>
                            <button onclick="speakEN('${item.en}')" class="btn-audio" aria-label="Ouvir ${item.en}">üîä</button>
                        </div>
                    `;
                    vocabContainer.innerHTML += vocabCard;
                });
            }
        }

        // --- SISTEMA DE FALA OTIMIZADO PARA IPHONE/CHROME ---
        let voices = [];
        function loadVoices() { voices = window.speechSynthesis.getVoices(); }
        if (window.speechSynthesis.onvoiceschanged !== undefined) {
            window.speechSynthesis.onvoiceschanged = loadVoices;
        }
        loadVoices();

        function speakSlowPT(textWithHyphens) {
            if ('speechSynthesis' in window) {
                window.speechSynthesis.cancel();
                const cleanText = textWithHyphens.replace(/-/g, "").toLowerCase();
                const utterance = new SpeechSynthesisUtterance(cleanText);
                utterance.lang = 'pt-BR';
                utterance.rate = 0.8; 
                utterance.pitch = 1.0; 
                window.speechSynthesis.speak(utterance);
            }
        }

        function speakEN(text) {
            if ('speechSynthesis' in window) {
                window.speechSynthesis.cancel();
                const utterance = new SpeechSynthesisUtterance(text);
                
                if (voices.length === 0) loadVoices();
                
                // Tenta encontrar vozes de alta qualidade comuns no iPhone e Chrome
                const targetVoice = 
                    voices.find(v => v.lang === 'en-US' && v.name.includes('Samantha')) || // iPhone Top 1
                    voices.find(v => v.lang === 'en-US' && v.name.includes('Ava')) ||      // iPhone Top 2
                    voices.find(v => v.lang === 'en-US' && v.name.includes('Google US English')) || // Chrome Padr√£o
                    voices.find(v => v.lang === 'en-US' && (v.name.includes('Premium') || v.name.includes('Enhanced'))) ||
                    voices.find(v => v.lang === 'en-US'); // Fallback

                if (targetVoice) { 
                    utterance.voice = targetVoice; 
                    utterance.lang = targetVoice.lang; // Garante o idioma da voz
                } else { 
                    utterance.lang = 'en-US'; 
                }
                
                utterance.rate = 0.85; 
                window.speechSynthesis.speak(utterance);
            }
        }

        window.onload = function() {
            renderBlocks();
            setTimeout(loadVoices, 500);
            document.body.addEventListener('click', function() { initAudio(); }, { once: true });
        };
    </script>
</body>
</html>
